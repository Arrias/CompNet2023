# Теоретические задачи

## Задача 1
Так же, как в условии, считаем задержку распространения равной нулю.  
Пакет `1` полностью передастся по первому соединению в момент `L/R`. Пакет `2` же в момент `2L/R`, и сразу же начнет передаваться по второму соединению, так как за время, пока она передавался по первому пакет `1` полностью прошел по второму (из-за одинакового размера и скорости передачи).  
Аналогично, последний пакет пройдет первое соединение в момент `PL/R` и далее будет передаваться сразу же по второму, так как все предыдущие пакеты уже успели пройти это соединение.  
Получается, что ответ это `PL/R + (n-1)L/R = L(P-1+n)/R`.

## Задача 2
Предположим, что файл передается пакетами по `L=`64 байта.   
Тогда всего у нас 5*1048576/64=81920=`P` пакетов.
Скорость первого канала составляет `v1`=25600 байтов в секунду.   
Скорость второго канала `v2` = 393216 байтов в секунду, 
`v3` = 262144 байтов в секунду.  
Так как `v2 >> v1`, то при получении последнего пакета (через ~204,8 секунд) вторым каналом, все предыдущие пакеты уже отправятся.   
Но так же можно заметить, что из-за такой низкой скорости первого канала, при получении вторым каналом пакета `i`, пакет с номером `i-1` уже будет доставлен до получателя. Это так, потому что за время `L/v1`, которое передается пакет `i`, пакет `i-1` успеет  
(а) полностью отправиться за `L/v2`  
(б) еще (L/v1-L/v2) секунд пересылаться со скоростью v3 через третий канал  
Так как `v3(L/v1 - L/v2) > L`, то пакет с номером `i-1` успеет полностью переслаться третьим каналом, пока первый канал пересылает пакет `i`.  
Таким образом, все задержки сводятся к времени получения каналом 2 последнего пакета + прохождения его через 2 оставшихся канала. То есть, приблизетельное время равно `PL/v1 + L/v2 + L/v3 = L(P/v1+1/v2+1/v3) ~ 205 с`, то есть, примерно 3.41 минуты.

## Задача 3
Воспользуемся распределением Бернулли. Можно сказать, что если пользователи независимы между собой, то в случайный момент мы подкидыываем монетку с вероятностью орла `p=0.2` и счиатем количество выпавших орлов. Нужно найти, с какой вероятностью будет 12 и более орлов, и при этом не более 20 (так как только 20 человек могут слать одновременно что-то в наш канал)  
Воспользуемся теоремой Пуассона. При `n=60, p=0.2` вычисляем `l=np=12`.   
Тогда   
`P(12 <= S <= 20) = P(S=12) + ... + P(s=20) ~= e^(-12)( (12^12)/12! + (12^13)/13! + ... + (12^20)/20!) ~= 0.5268`.

## Задача 4
Воспользуемся формулой из задачи 2.  
Задержка передачи соответственно ей равна:
```
(x/s-1+n)(80+s) / R 
n = 3 =>
(x/s+2)(80+s) / R -> min
<=> (x/s+2)(80+s) -> min
<=> 80x/s + 160 + x + 2s -> min
<=> y(s) = 80x/s + 2s -> min
y' = -80x/s^2 + 2 
y' = 0 => 80x/s^2 = 2 => s = sqrt(40 x)
```
То есть, минимальная задержка будет при размере `s`, примерно равном `sqrt(40 * x)`

## Задача 5
Задержка передачи равна `L/R`, поэтому суммарная задержка:
```
IL/R(1-I) + L/R = L/R(I/(1-I) + 1) = L/R * (1/1-I) = (L/R) * (1 / (1 - La/R)) 
= (L/R) / (1 - a(L/R))
```
Если обозначить `L/R=k`,то зависимость задержки такова:   
`wait(k) = k / (1 - ak)`

